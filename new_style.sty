\ProvidesPackage{new_style}

\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage[titles]{tocloft}
\RequirePackage{hyperref}
\hypersetup{colorlinks=true,citecolor=black,urlcolor=black,linkcolor=black}
% \RequirePackage[all]{xy}
\RequirePackage{tikz-cd}
\tikzcdset{
arrow style=tikz,
diagrams={>={Straight Barb[scale=0.8]}}
}
% Use newtxmath and libertine fonts if available. Otherwise, use
% txfonts and Times available. If neither are available, fall back on CM
% fonts

\IfFileExists{newtxmath.sty}{%
  \RequirePackage{amssymb}
 % \RequirePackage{newtxtext}%  
  \RequirePackage{libertine}%  
  \RequirePackage[vvarbb,bigdelims,cmintegrals,libertine]{newtxmath}%
 % \RequirePackage[vvarbb,bigdelims,cmintegrals]{newtxmath}%
  }{%  else
  \IfFileExists{txfonts.sty}{%
    \RequirePackage{amssymb}
    \RequirePackage{txfonts}
    }{% else
    \RequirePackage{amssymb}
}}
\let\MATHBF\mathbf


\DeclareFontFamily{U}{BOONDOX-calo}{\skewchar\font=45 }
\DeclareFontShape{U}{BOONDOX-calo}{m}{n}{
  <-> s*[1.0] BOONDOX-r-calo}{}
\DeclareFontShape{U}{BOONDOX-calo}{b}{n}{
  <-> s*[1.0] BOONDOX-b-calo}{}
\DeclareMathAlphabet{\mathcal}{U}{BOONDOX-calo}{m}{n}
\SetMathAlphabet{\mathcal}{bold}{U}{BOONDOX-calo}{b}{n}
\DeclareMathAlphabet{\mathbcal} {U}{BOONDOX-calo}{b}{n}


% Title in italics

\let\oldtitle\title
\renewcommand{\title}[1]{\oldtitle{\normalfont\headfam\itshape\LARGE #1}}
        
% Headings are in Times Bold.

\newcommand{\headfam}{\rmfamily} 
\newcommand{\headweight}{\bfseries\selectfont}   

% Format section headers

\renewcommand{\section}%
    {\@startsection {section}{1}{\z@}%
    {-3.5ex \@plus -1ex \@minus -.2ex}%
    {2.3ex \@plus.2ex}%
    {\reset@font\headfam\large\headweight\boldmath}}
\renewcommand{\subsection}%
    {\@startsection{subsection}{2}{\z@}%
    {-3.25ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\reset@font\headfam\normalsize\headweight\boldmath}}
\renewcommand{\subsubsection}%
    {\@startsection{subsubsection}{3}{\z@}%
    {-3.25ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\reset@font\normalsize\itshape}}
\renewcommand{\paragraph}%
    {\@startsection{paragraph}{4}{\z@}%
    {3.25ex \@plus1ex \@minus.2ex}%
    {-0.44em}%
    {\reset@font\headfam\normalsize\headweight}}
\renewcommand{\subparagraph}%
    {\@startsection{subparagraph}{5}{\z@}%
    {3.25ex \@plus1ex \@minus .2ex}%
    {-0.44em}%
    {\reset@font\normalsize\itshape}}

% Section numbering

\setcounter{secnumdepth}{2}
% \renewcommand{\thesubsection}{\thesection(\roman{subsection})}
% \renewcommand{\@seccntformat}[1]{\csname the#1cntformat\endcsname}
% \newcommand{\thepartcntformat}{\thepart\quad}
% \newcommand{\thesectioncntformat}{\thesection.\hspace{0.5em}}
% \newcommand{\thesubsectioncntformat}{(\roman{subsection})\hspace{0.5em}}

% Set Bibliography in small size


%\renewcommand{\refname}{References}
%\renewenvironment{thebibliography}[1]
%     {\section*{\refname
%        \@mkboth{\MakeUppercase\refname}{\MakeUppercase\refname}}%
%      \begin{small}  
%      \list{\@biblabel{\@arabic\c@enumiv}}%
%           {\settowidth\labelwidth{\@biblabel{#1}}%
%            \leftmargin\labelwidth
%            \advance\leftmargin\labelsep
%            \@openbib@code
%            \usecounter{enumiv}%
%            \let\p@enumiv\@empty
%            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
%      \sloppy\clubpenalty4000\widowpenalty4000%
%      \sfcode`\.\@m}
%     {\def\@noitemerr
%       {\@latex@warning{Empty `thebibliography' environment}}%
%      \end{small}\endlist}

%%% BIB

\usepackage[backend=biber,
            isbn=false,
            doi=false,
            giveninits=true,
            style=alphabetic,
            useprefix=true,
            maxcitenames=5,
            maxbibnames=5,
            sorting=nyt,
            labelnumber, defernumbers = true,
            citestyle=alphabetic]{biblatex}
\renewbibmacro{in:}{}
%\usepackage[capitalise]{cleveref}
\setlength{\headheight}{14pt}
\renewcommand*{\bibfont}{\footnotesize}


% Simple style for the abstract, without indent.      
      
\renewenvironment{abstract}{%
        \small\noindent{\bfseries \abstractname.}}

      
% Itemize lists with a smaller bullet

\renewcommand\labelitemi{%
    \raise.25ex\hbox{$\m@th\scriptstyle{\bullet}$}}

% Enumerations begin with (a) etc.

\renewcommand{\theenumi}{\alph{enumi}}
\renewcommand{\theenumii}{\roman{enumii}}
\renewcommand{\labelenumi}{(\theenumi)}
\renewcommand{\labelenumii}{(\theenumii)}
\renewcommand{\p@enumi}{}
\renewcommand{\p@enumii}{(\theenumi)}

%  Set left and right margins equal, regardless of two-sided mode

\setlength\@tempdima        {\paperwidth}
\addtolength\@tempdima      {-\textwidth}
\setlength\oddsidemargin    {.5\@tempdima}
\addtolength\oddsidemargin  {-1in}
\setlength\marginparwidth   {.5\@tempdima}
\addtolength\marginparwidth {-0.4in}
\ifdim \marginparwidth >2in
    \setlength\marginparwidth{2in}
\fi
\@settopoint\oddsidemargin
\@settopoint\marginparwidth
\setlength\evensidemargin   {\paperwidth}
\addtolength\evensidemargin {-2in}
\addtolength\evensidemargin {-\textwidth}
\addtolength\evensidemargin {-\oddsidemargin}
\@settopoint\evensidemargin

% Simple style, with page-numbers in corners

\if@twoside
  \def\ps@numbered{%
      \let\@oddfoot\@empty\let\@evenfoot\@empty
      \def\@evenhead{\headfam\thepage\hfil}%
      \def\@oddhead{\headfam\hfil\thepage}%
   }
\else
  \def\ps@numbered{%
    \let\@oddfoot\@empty
    \def\@oddhead{\hfil\thepage}%
  }
\fi

% Try and avoid overfull hbox warnings

\tolerance=500
\hfuzz=1pt

% Title (not very useful)

\let\address\date 	% Poor way to do it
\let\thanks\footnote
\let\and\relax

\renewcommand\maketitle{\par
  \begingroup
    \newpage
    \global\@topnum\z@   % Prevents figures from going at top of page.
    \@maketitle
    \thispagestyle{empty}
  \endgroup
  \global\let\thanks\relax
  \global\let\maketitle\relax
  \global\let\@maketitle\relax
  \global\let\@thanks\@empty
  \global\let\@author\@empty
  \global\let\@date\@empty
  \global\let\@title\@empty
  \global\let\title\relax
  \global\let\author\relax
  \global\let\date\relax
  \global\let\and\relax
}

\def\@maketitle{%
  \thispagestyle{empty}
  \begin{center}
    {\Large \headfam\headweight\itshape \@title \par}%
    \vskip 0.5em
    {\itshape \headfam \@author \par}%
    \vskip 0.5em
    {\small \headfam \@date \par}%
    \vskip 1cm
  \end{center}
}

%\makeatletter
%\def\@maketitle{%
%  \thispagestyle{empty}
%  \begin{center}
%    {\Large \headfam\headweight\itshape \@title \par}%
%    \vskip 0.5em
%    {\itshape \headfam \@author \par}%
%    \vskip 0.5em
%    {\small \headfam \@date \par}%
%    \vskip 1cm
%  \end{center}
%}
%\makeatother

% Theorem styles.

 \def\th@plain{%
   \thm@headfont{\bfseries}%
   \thm@notefont{}% 
   \itshape % body font
 }
 \def\th@definition{%
   \thm@headfont={\bfseries}% 
   \thm@notefont={}% 
   \normalfont % body font
 }

\renewcommand\theenumi{{\rm (\alph{enumi})}}
\renewcommand\theenumii{{\rm (\roman{enumii})}}
\renewcommand\theenumiii{{\rm \arabic{enumiii}.}}
\renewcommand\theenumiv{{\rm \Alph{enumiv}.}}

\renewcommand\labelenumi{\theenumi}
\renewcommand\labelenumii{\theenumii}
\renewcommand\labelenumiii{\theenumiii}
\renewcommand\labelenumiv{\theenumiv}

\renewcommand\p@enumii{\theenumi}
\renewcommand\p@enumiii{\theenumi(\theenumii)}
\renewcommand\p@enumiv{\p@enumiii\theenumiii}

% Small text for captions

\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip
  \sbox\@tempboxa{\small #1: #2}%
  \ifdim \wd\@tempboxa >\hsize
    \small #1: #2\par
  \else
    \global \@minipagefalse
    \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip}

% Using tocloft package, format the toc:

\setcounter{tocdepth}{2}
\setlength{\cftbeforesecskip}{0.0ex}
\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftsecpagefont}{\normalfont}


% Colors

\definecolor{dark-gray}{gray}{0.20}
\definecolor{gray}{gray}{0.30}
\definecolor{light-gray}{gray}{0.80}
\definecolor{dark-red}{rgb}{0.7,0,0}
\definecolor{dark-green}{rgb}{0.1,0.4,0}
\definecolor{dark-blue}{rgb}{0.3,0.3,0.7}
\definecolor{light-blue}{rgb}{0.8,0.8,1}
\definecolor{cardinal}{rgb}{0.6,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{golden}{rgb}{0.92, 0.7, 0}
\definecolor{midnight}{rgb}{0, 0, 0.5}
\definecolor{darkblue}{rgb}{0.2, 0, 0.8}
\definecolor{forestgreen}{rgb}{0.13, 0.55, 0.13}
\definecolor{darkred}{rgb}{0.7,0,0}
\definecolor{purple}{rgb}{.7,0,.7}


\usepackage[mathscr]{euscript}
